name: TC Module Evaluation

on:
  workflow_dispatch:
    inputs:
      ref:
        description: "Git ref to evaluate (defaults to current ref)"
        required: false
        type: string
      output_format:
        description: "Report format"
        required: false
        type: choice
        options:
          - both
          - json-only
          - html-only
        default: "both"
      criteria_filter:
        description: "Comma-separated criterion IDs (e.g., S001,S002,B005). Leave empty for all."
        required: false
        type: string
      java_version:
        description: "Java version"
        required: false
        type: string
        default: "21"

jobs:
  evaluate:
    uses: folio-org/tc-module-eval/.github/workflows/evaluate.yml@remote-eval
    with:
      ref: ${{ inputs.ref }}
      output_format: ${{ inputs.output_format }}
      criteria_filter: ${{ inputs.criteria_filter }}
      java_version: ${{ inputs.java_version }}
